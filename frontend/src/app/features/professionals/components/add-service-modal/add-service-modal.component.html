<div class="modal-overlay" (click)="onCancel()">
  <div class="modal-content" (click)="preventClose($event)">
    <div class="modal-header">
      <h2>Adicionar Novo Serviço</h2>
      <button class="btn-close" (click)="onCancel()">
        <i class="material-icons">close</i>
      </button>
    </div>

    <div class="modal-body">
      <form (ngSubmit)="onSubmit()" #serviceForm="ngForm">
        <div class="form-group">
          <label for="nome">Nome do Serviço *</label>
          <input
            type="text"
            id="nome"
            name="nome"
            [(ngModel)]="serviceData.nome"
            required
            placeholder="Ex: Corte de Cabelo"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="descricao">Descrição *</label>
          <textarea
            id="descricao"
            name="descricao"
            [(ngModel)]="serviceData.descricao"
            required
            placeholder="Descreva o serviço oferecido"
            rows="3"
            class="form-control"
          ></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="preco">Preço (R$) *</label>
            <input
              type="number"
              id="preco"
              name="preco"
              [(ngModel)]="serviceData.preco"
              required
              min="0"
              step="0.01"
              placeholder="0.00"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label for="duracao">Duração (minutos) *</label>
            <input
              type="number"
              id="duracao"
              name="duracao"
              [(ngModel)]="serviceData.duracaoMinutos"
              required
              min="1"
              step="5"
              placeholder="30"
              class="form-control"
            />
          </div>
        </div>

        <div class="alert alert-error" *ngIf="errorMessage">
          <i class="material-icons">error</i>
          {{ errorMessage }}
        </div>

        <div class="alert alert-success" *ngIf="successMessage">
          <i class="material-icons">check_circle</i>
          {{ successMessage }}
        </div>

        <div class="modal-actions">
          <button
            type="button"
            class="btn-secondary"
            (click)="onCancel()"
            [disabled]="isSubmitting"
          >
            Cancelar
          </button>
          <button
            type="submit"
            class="btn-primary"
            [disabled]="!isFormValid() || isSubmitting"
          >
            <span *ngIf="!isSubmitting">Criar Serviço</span>
            <span *ngIf="isSubmitting">Criando...</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
