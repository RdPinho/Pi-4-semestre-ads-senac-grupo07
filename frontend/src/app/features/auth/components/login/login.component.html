<div class="login-page">
  <div class="split">
    <!-- LEFT: brand + login stacked -->
    <div class="left">
      <!-- Background decorativo (kept for subtle shapes) -->
      <div class="background-decoration">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
      </div>

      <div class="left-inner">
        <div class="brand-section">
          <div class="logo">
            <mat-icon class="logo-icon">content_cut</mat-icon>
          </div>
          <h1 class="brand-title">BARBER7</h1>
        </div>

        <div class="login-card">
          <div class="card-header">
            <h2>Faça seu login</h2>
          </div>

          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
            <div class="form-group">
              <div class="input-wrapper">
                <input 
                  type="email" 
                  id="email"
                  formControlName="email" 
                  placeholder="E-mail"
                  class="custom-input"
                  [class.error]="loginForm.get('email')?.errors && loginForm.get('email')?.touched">
              </div>
              <div class="error-message" *ngIf="loginForm.get('email')?.errors && loginForm.get('email')?.touched">
                {{ getErrorMessage('email') }}
              </div>
            </div>

            <div class="form-group">
              <div class="input-wrapper">
                <input 
                  [type]="hidePassword ? 'password' : 'text'"
                  id="senha"
                  formControlName="senha" 
                  placeholder="Senha"
                  class="custom-input"
                  [class.error]="loginForm.get('senha')?.errors && loginForm.get('senha')?.touched">
                <button 
                  type="button" 
                  class="toggle-password"
                  (click)="hidePassword = !hidePassword">
                  <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
              </div>
              <div class="error-message" *ngIf="loginForm.get('senha')?.errors && loginForm.get('senha')?.touched">
                {{ getErrorMessage('senha') }}
              </div>
            </div>

            <div class="global-error" *ngIf="errorMessage">
              <mat-icon>error</mat-icon>
              <span>{{ errorMessage }}</span>
            </div>

            <button 
              type="submit" 
              class="login-button"
              [disabled]="loginForm.invalid || isLoading"
              [class.loading]="isLoading">
              <mat-icon *ngIf="isLoading" class="loading-icon">refresh</mat-icon>
              <span>{{ isLoading ? 'Entrando...' : 'Entrar' }}</span>
            </button>

            <div class="register-link">
              <p>Não tem uma conta?</p>
              <div class="register-options">
                <a routerLink="/auth/register-client" class="link">Sou cliente</a>
                <span class="separator">•</span>
                <a routerLink="/auth/register-professional" class="link">Sou profissional</a>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- RIGHT: image cover -->
    <div class="right" role="img" aria-label="Imagem de barbearia">
      <img src="/images/img-login.png" alt="Barbearia" class="hero-image" />
    </div>
  </div>
</div>